---
title: "EAES 494: Unit 4 - 6 Review"
subtitle: "<br><br> Course Feedback & Review Exercises"
author: "Gavin McNicol"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    self_contained: true
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r packages, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(emo)
```

class: middle

# Survey Results

---

## Highlights

16 respondents (please respond, you will get points ;) )

#### Unit 4 - Data Types and Classes **Median confidence 4/5**
  * Special Values (Inf, -Inf, NA, NaN)
  * Dates and the `{lubridate}` package
  * Lists, data frames, tibbles
  * Implicit vs. explicit data coercion
  
#### Unit 5 - Importing and Recoding Data **Median confidence 3/5**
  * Assigning names, column types, and NA values during import!

  
#### Unit 6 - Writing Functions **Median confidence 3/5**
  * How to apply functions multiple times using `map()`
  
  
My favorite unprompted comment: 
"Comments = NaN"

---

## Goals of Group Exercises

.pull-left-wide[
**Practice:** Creating data objects of different type and class


**AND** Get used to collaborative work **using forks and pull requests!**  


]

---

class: middle

# Forks & Pull Requests (?) 


---

## Exercise Format

- Form groups (max 5 per group)

---

## Exercise Format

- Form groups (max 5 per group)
- We will provide a numbered list prompt. 
    
---

## Exercise Format

- Form groups (max 5 per group)
- We will provide a numbered list prompt.
    
- Setting up your group:
    1. Assign yourselves numbers from 1-5 in your group
    2. Run `sample(1:5, 1)`. That member is the group lead, and they hold the mineral! (The group lead will review and merge all Pull Requests!)
    3. **All, fork** `unit-4-6-review-exercises-GROUP#` into your personal GitHub
    4. **All, clone** your personal copy into RStudio
    5. Complete your exercise (e.g., **Member 1, Member 2, Member 3**)
    6. Knit, commit, push .Rmd file to your repo! Create Pull Request to main repo! **BUT, do not merge**
    7. **Group Leader: review pull requests, resolve conflicts, and merge. **
    8. Everyone pulls all merges into Rstudio. Inspect changes!
    9. Change the group lead for next exercise!

- NOTES: Help each other!
- If you are joining remotely, work as group 5.

--

**LET'S WARM UP ON YAML CONFLICTS!**


---

## Exercise 1: Create some vectors

We have provided a code chunk to create a vector of 12 calendar months. Each person create a vector object to form one of a set of 5 additional vectors. Each vector should contain 12 elements and describes some property of the months of the year. For example:

- `order <- c(1, 2, 3...)`
- `season <- c("winter", "winter", "spring"...)`
- `nba_season <- c(TRUE, TRUE, TRUE...)`
- `nfl_season <- c(TRUE, TRUE, FALSE...)`
- `temperature_f <- c(30, 35, 40...)`
- etc...

**Include at least one character, numerical, and logical vector type. 

Remember: 
- everyone, writes their code
- knit, commit, push
- create pull request using `Contribute` button
- **Team Lead**: review, merge
- after all merges, pull in Rstudio

---

## Exercise 2: Combine into a data frame

Each team member should complete the code chunk provided in Exercise 2 to merge the `month_name` vector with the vector they created in Execise 2, into a two-column data frame. Name your data frame object after the variable. E.g., for season you would name it `month_season`.

```{r merge-two-vectors, eval = F}
___ <- tibble::tibble(
  month_name = "month_name",
  ___ = ___
)
```

**Remember, only add/remove code under your Team Member space, or it will create conflicts**

---

## Exercise 3: Try plotting with `month_name` on the x axis, then recode factors

Each team member:
1. Write a code chunk under Exercise 3 that takes as input the data frame containing `month_name` and second column containing a **numerical data type**.
2. Creates a line plot using ggplot, with `month_name` on the x axis, and the numerical data on the y axis. 

Discuss what is wrong with the x axis.

Each team member:
1. Write a second code chunk that uses a {forcats} function (e.g., `fct_relevel()`) within mutate to reorder the `month_name` factors before piping into ggplot.
Does that fix the problem?

---

## Exercise 4: Join all the data frames, filter randomly, and over-write vector

Each team member should write code to:
  
1. Use a series of `left_join()` functions to merge all the two-column data frames together into a single data frame with 6 columns. Assign the new data frame to `df_yourname` 
2. Then, use `sample(1:11, 1)` to pick a random number between 1 and 11. 
3. Pipe the data frame into a `filter()` function to select only for the months between January (1), and the number you generated (e.g., July (7)). 
4. After filtering, pull the now-shortened variable you created originally using `pull()`. 
5. Finally, assign the whole pipeline to the original variable name (e.g., `season`)
6. You should now have a shortened version of the original variable you created.

**Remember, only add/remove code under your Team Member space, or it will create conflicts**

---

## Exercise 5: Try to recombine as a data frame, instead use list

Each team member should now complete the following code chunk in their starter file to again merge the vector they created with `month_name`. Does it work?
  
```{r try-merge-vectors, eval = F}
___ <- tibble::tibble(
  month_name = "month_name",
  ___ = ___
)
```

Set the first code chunk `eval = F` and write a second code chunk that will create a list of the `month_name` and your vector. Discuss why this works and the last code chunk did not!

**Remember, only add/remove code under your Team Member space, or it will create conflicts**

---


.center[
.large[
This class content was built from the Data Science in a Box source materials.
https://datasciencebox.org/index.html
]
]
